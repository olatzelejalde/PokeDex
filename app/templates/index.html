<!DOCTYPE html>
<html lang="eu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PokeDex</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/styles/styles.css">
    <link rel="stylesheet" href="/static/styles/bot.css"> ```
    <script> 
        var user = JSON.parse('{{ user|tojson }}');
        console.log(user);
    </script>
    <style>
        /* --- CHANGELOG KANPAITXOA --- */
    .notification-bell {
    display: flex;
    align-items: center;
    cursor: pointer;
    position: relative;
    margin-right: 15px;
}

.bell-icon {
    fill: white; 
    transition: transform 0.2s, 
}

.notification-bell:hover .bell-icon {
    transform: scale(1.1);
    fill: black; /* Sagua gainetik pasatzean horira aldatuko da pixka bat nabarmentzeko */
}


    </style>
</head>
<body>
    <!----------------------------------------------->
    <!--         Pokedex-aren goiburua             -->
    <!---------------------------------------------->
    <header class="pokedex-header">
        <div class="pokedex-top-bar">
            <div class="red-bar"></div>
            <div class="white-bar">
                <div class="menu-dots">
                    <div class="dot red" id="btn-saioa"> Saioa itxi </div>
                </div>
            </div>
        </div>
        <h1>POKEDEX</h1>
        <!----------------------------------------------->
        <!--         Pokedex-aren menua                -->
        <!----------------------------------------------->
        <nav class="menua">
            <ul>
                <li><a href="#" class="active" data-section="pokemon">POKEMONAK</a></li>
                <li><a href="#" data-section="taldeak">NIRE TALDEAK</a></li>
                <li><a href="#" data-section="intsigniak">NIRE INTSIGNIAK</a></li>
                <li><a href="#" data-section="lagunak">NIRE LAGUNAK</a></li>
                <li><a href="#" data-section="erabiltzailea">NIRE PROFILA</a></li>
            </ul>
        </nav>

        <!----------------------------------------------->
        <!--            Bilaketa barra                 -->
        <!----------------------------------------------->
        <div class="search-container" id="search-pokemon">
            <div class="notification-bell" id="changelog-trigger">
                <svg class="bell-icon" viewBox="0 0 24 24" width="24" height="24">
                    <path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"></path>
                </svg>
            </div>

            <input type="text" id="pokemon-search" placeholder="Bilatu Pokémon...">
            <select id="type-filter">
                <option value="">Mota guztiak</option>
            </select>
            <button id="search-button">Bilatu</button>

        

        <div class="search-container" id="search-lagunak" style="display: none;">
            <input type="text" id="user-search" placeholder="Bilatu erabiltzailea...">
            <button id="search-users-button">Bilatu</button>
        </div>

        <div class="search-container" id="search-lagunak" style="display: none;">
            <input type="text" id="user-search" placeholder="Bilatu erabiltzailea...">
            <button id="search-users-button">Bilatu</button>
        </div>
    </header>

    <!----------------------------------------------->
    <!--             Eduki nagusia                 -->
    <!----------------------------------------------->
    <main class="pokedex-main">
        <!----------------------------------------------->
        <!--          Pokeemon katalogoa               -->
        <!----------------------------------------------->
        <article id="pokemon-list" class="active">
            <div class="pokemon-grid" id="pokemon-grid">
                <!-- Pokémonak hemen agertuko dira -->
            </div>
        </article>

        <!----------------------------------------------->
        <!--             Taldeen menua                 -->
        <!----------------------------------------------->
        <article id="taldeak-list">
            <div class="taldeak-container">
                <button id="btn-talde-berria" class="pokedex-button">TALDE BERRIA SORTU</button>
                <div id="taldeak-zerrenda" class="taldeak-grid">
                    <!-- Taldeak hemen agertuko dira -->
                </div>
            </div>
        </article>
        
          <!----------------------------------------------->
        <!--          Intsignen menua                   -->
        <!----------------------------------------------->
        <article id="intsigniak-list">
            <div class="intsigniak-container">
                <h2 class="intsigniak-title">NIRE INTSIGNIAK</h2>
                <div id="intsigniak_kont" class="pokedex-status-bar">
                           Lortutako intsigniak: 0 / 10 </div>  
                <div id="intsigniak-zerrenda" class="intsigniak-grid"></div>
            </div>
        </article>

        <!----------------------------------------------->
        <!--           Lagunen menua                   -->
        <!----------------------------------------------->
        <article id="lagunak-list">
            <div class="lagunak-container">
                <div id="lagunak-zerrenda" class="lagunak-grid">
                    <!-- Lagunak hemen agertuko dira -->
                </div>
            </div>
        </article>

        <!----------------------------------------------->
        <!--         Erabiltzailearen menua            -->
        <!----------------------------------------------->
        <article id="erabiltzailea-list">
            <div class="profile-container">
                <div id="erabiltzailea-datuak" class="profile-card">
                    <!-- Erabiltzailearen datuak hemen agertuko dira -->
                </div>
            </div>
        </article>

        <!----------------------------------------------->
        <!--         Erabiltzailea editatu             -->
        <!----------------------------------------------->
        <article id="erabiltzailea-edit">
            <div class="profile-edit-container">
                <div id="erabiltzailea-edit-datuak" class="profile-edit-card">
                    <!-- Erabiltzailearen edizio datuak hemen agertuko dira -->
                </div>
            </div>
        <!----------------------------------------------->
        <!--         Changelog             -->
        <!----------------------------------------------->
        <article id="changelog-list">
            <div class="changelog-container">
                <h2 style="font-family: 'Press Start 2P'; color: #ffcb05; font-size: 14px;">PROIEKTUAREN ALDAKETAK</h2>
                <div id="changelog-append-here">
                </div>
            </div>
        </article>
    </main>


    <!-- Modales -->

    <!-- Modal Pokémon Xehetasunak -->
    <div id="pokemon-modal" class="modal">
        <div class="modal-content pokedex-modal large">
            <div id="pokemon-xehetasunak"></div>
        </div>
    </div>

    <!-- Modal Taldea Sortu -->
    <div id="taldea-modal" class="modal">
        <div class="modal-content pokedex-modal">
            <span class="close">&times;</span>
            <h3>TALDE BERRIA SORTU</h3>
            <div class="form-group">
                <input type="text" id="taldea-izena" placeholder="Taldearen izena" class="pokedex-input">
            </div>
            <button id="btn-taldea-gorde" class="pokedex-button">GORDE</button>
        </div>
    </div>

    <script src="/static/js/app.js"></script>
    <script src="/static/js/pokemon.js"></script>
    <script src="/static/js/taldeak.js"></script>
    <script src="/static/js/intsignia.js"></script>
    <script src="/static/js/erabiltzailea.js"></script>
    <script src="/static/js/lagunak.js"></script>

    <!-- Botarentzako botoia -->
    <div id="bot" class="bot-button">
        <img src="{{ url_for('static', filename='bot-image.png') }}" alt="Bot Asistente">
    </div>        <div id="bot-panel" class="bot-panel hidden">
        <button class="bot-option" data-action="pokeTop">
        <img src="{{ url_for('static', filename='poketop copia.png') }}" alt="Icono">
        <span>PokeTop</span>
    </button>

    <button class="bot-option" data-action="pokeMota">
        <img src="{{ url_for('static', filename='pokemota copia.png') }}" alt="Icono">
        <span>PokeMota</span>
    </button>

    <button class="bot-option" data-action="pokeEbo">
        <img src="{{ url_for('static', filename='pokeebo copia.png') }}" alt="Icono">
        <span>PokeEbo</span>
    </button>

    <button class="bot-option" data-action="pokeScan">
        <img src="{{ url_for('static', filename='pokescan copia.png') }}" alt="Icono">
        <span>PokeScan</span>
    </button>
    </div>

    <div id="retro-modal" class="retro-modal hidden">
        <div class="modal-box" id="modal-box-color">
            <div class="modal-header">
                <span id="modal-title">IZENBURUA</span>
                <span class="close-retro">&times;</span>
            </div>

            <div id="modal-body" class="modal-body">
                </div>

            <div class="modal-footer">
                <button class="retro-ok-btn">OK</button>
            </div>
        </div>
    </div>

</div>
<script>
document.getElementById('changelog-trigger').onclick = function() {
    // 1. Ezkutatu artikulu guztiak eta erakutsi Changelog-arena
    document.querySelectorAll('main article').forEach(art => art.classList.remove('active'));
    document.getElementById('changelog-list').classList.add('active');

    // 2. Kendu menuko "active" klasea botoi guztiei
    document.querySelectorAll('.menua a').forEach(a => a.classList.remove('active'));

    // 3. Kargatu datuak API-tik
    fetch('/api/changelog')
        .then(res => res.json())
        .then(data => {
            const container = document.getElementById('changelog-append-here');
            container.innerHTML = data.map(entry => `
                <div style="background: rgba(0,0,0,0.5); border: 2px solid #e3350d; margin-top:15px; padding:15px; border-radius:8px;">
                    <div style="color:#ffcb05; font-weight:bold; margin-bottom:5px;">v${entry.bertsioa} - ${entry.data}</div>
                    <p style="color:white; margin:5px 0;">${entry.deskribapena}</p>
                    <small style="color:#aaa;">Egilea: ${entry.egilea}</small>
                </div>
            `).join('');
        });
};
    </script>
</body>
</html>
